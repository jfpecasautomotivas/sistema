<div class="row">
    <div class="col s12 center">
        <h3>Estoque/Baixas</h3>
    </div>
</div>
<ul class="pagination">
    <li [ngClass]="{'disabled' : (productsInfos?.current_page === 1)}">
        <a href="products?page={{(productsInfos?.current_page - 1)}}">
            <i class="material-icons">chevron_left</i>
        </a>
    </li>
    <li *ngFor="let page of pagination; let i = index" class="waves-effect" [ngClass]="{'active' : ((i+1) === productsInfos?.current_page)}">
        <a href="products?page={{(i+1)}}">{{ i + 1 }} </a>
    </li>
    <li [ngClass]="{'disabled' : (productsInfos?.current_page === productsInfos?.last_page)}">
        <a href="products?page={{(productsInfos?.current_page + 1)}}">
            <i class="material-icons">chevron_right</i>
        </a>
    </li>
</ul>
<table>
    <thead>
        <tr>
            <th>Ref.</th>
            <th>Nome</th>
            <th>Custo</th>
            <th>Valor Venda</th>
            <th>Aplicação</th>
            <th>Quantidade</th>
            <th>Baixa</th>
            <th>Editar</th>
        </tr>
    </thead>

    <tbody>
        <tr *ngFor="let product of productsInfos?.data">
            <td>{{ product.ref }}</td>
            <td>{{ product.title }}</td>
            <td>{{ product.value_buy }}</td>
            <td>{{ product.value_sell }}</td>
            <td>{{ product.application }}</td>
            <td>{{ product.amount }}</td>
            <td>
                <button class="btn green modal-trigger" data-target="sells" (click)="selectProduct(product)">
                    <i class="material-icons">
                        add_shopping_cart
                    </i>
                </button>
            </td>
            <td>
                <a class="btn blue" href="/products/{{product.id}}">
                    <i class="material-icons">
                        create
                    </i>
                </a>
            </td>
        </tr>
    </tbody>
</table>
<ul class="pagination">
    <li [ngClass]="{'disabled' : (productsInfos?.current_page === 1)}">
        <a href="products?page={{(productsInfos?.current_page - 1)}}">
            <i class="material-icons">chevron_left</i>
        </a>
    </li>
    <li *ngFor="let page of pagination; let i = index" class="waves-effect" [ngClass]="{'active' : ((i+1) === productsInfos?.current_page)}">
        <a href="products?page={{(i+1)}}">{{ i + 1 }} </a>
    </li>
    <li [ngClass]="{'disabled' : (productsInfos?.current_page === productsInfos?.last_page)}">
        <a href="products?page={{(productsInfos?.current_page + 1)}}">
            <i class="material-icons">chevron_right</i>
        </a>
    </li>
</ul>

<!-- Modal Structure -->
<div id="sells" class="modal">
    <div class="modal-content">
        <h4>Dar baixa em {{ selectedProduct?.title }}</h4>
        <form class="col s12">
            <div class="row">
                <div class="input-field col s12">
                    <input type="number" placeholder="Quantidade" [(ngModel)]="amount" name="amount">
                </div>
            </div>
        </form>
    </div>
    <div class="modal-footer">
      <button class="waves-effect waves-green btn green" (click)="sell()">Salvar</button>
      <button class="modal-close waves-effect waves-red btn red">Fechar</button>
    </div>
</div>